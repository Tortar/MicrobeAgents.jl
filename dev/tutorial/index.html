<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tutorial · MicrobeAgents.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MicrobeAgents.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Tutorial</a><ul class="internal"><li><a class="tocitem" href="#Creating-a-microbe"><span>Creating a microbe</span></a></li><li><a class="tocitem" href="#Creating-a-model"><span>Creating a model</span></a></li></ul></li><li><a class="tocitem" href="../validation/">Validation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Tutorial</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tutorial</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mastrof/MicrobeAgents.jl/blob/main/docs/src/tutorial.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Creating-a-microbe"><a class="docs-heading-anchor" href="#Creating-a-microbe">Creating a microbe</a><a id="Creating-a-microbe-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-microbe" title="Permalink"></a></h2><p>Microbes are represented by subtypes of the <code>AbstractMicrobe</code> type, which is in turn a subtype of <code>AbstractAgent</code> introduced by Agents.jl</p><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.AbstractMicrobe" href="#MicrobeAgents.AbstractMicrobe"><code>MicrobeAgents.AbstractMicrobe</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractMicrobe{D} &lt;: AbstractAgent where {D&lt;:Integer}</code></pre><p>All microbe types in MicrobeAgents.jl simulations must be instances of user-defined types that are subtypes of <code>AbstractMicrobe</code>.     YourMicrobeType{D} &lt;: AbstractMicrobe{D} The parameter <code>D</code> defines the dimensionality of the space in which the microbe type lives (1, 2 and 3 are supported).</p><p>All microbe types <em>must</em> have at least the following fields:</p><ul><li><code>id::Int</code> id of the microbe (used internally by Agents.jl)</li><li><code>pos::NTuple{D,Float64}</code> position of the microbe</li><li><code>vel::NTuple{D,Float64}</code> velocity of the microbe</li><li><code>motility::AbstractMotility</code> motile pattern of the microbe</li><li><code>turn_rate::Real</code> average reorientation rate of the microbe</li><li><code>rotational_diffusivity::Real</code> coefficient of brownian rotational diffusion</li><li><code>radius::Real</code> equivalent spherical radius of the microbe</li><li><code>state::Real</code> generic variable for a scalar internal state</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/c653c8e631b44ac212fd4a9a4f6b68b399aa7f29/src/MicrobeAgents.jl#L14-L31">source</a></section></article><p>MicrobeAgents provides different <code>AbstractMicrobe</code> subtypes representing different models of bacterial behavior from the literature.</p><p>A basic type, which is typically sufficient for simple motility simulations and does not include chemotaxis, is the <code>Microbe</code> type.</p><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.Microbe" href="#MicrobeAgents.Microbe"><code>MicrobeAgents.Microbe</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Microbe{D} &lt;: AbstractMicrobe{D}</code></pre><p>Basic microbe type for simple simulations.</p><p>Default parameters:</p><ul><li><code>id::Int = rand(1:typemax(Int))</code> identifier used internally by Agents.jl</li><li><code>pos::NTuple{D,Float64} = ntuple(zero,D)</code> position</li><li><code>motility = RunTumble()</code> motile pattern</li><li><code>vel::NTuple{D,Float64} = rand_vel(D)</code> unit velocity vector</li><li><code>speed::Float64 = rand_speed(motility)</code> magnitude of velocity vector</li><li><code>turn_rate::Float64 = 1.0</code> frequency of reorientations</li><li><code>rotational_diffusivity::Real</code> coefficient of brownian rotational diffusion</li><li><code>radius::Float64 = 0.0</code> equivalent spherical radius of the microbe</li><li><code>state::Float64 = 0.0</code> generic variable for a scalar internal state</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/c653c8e631b44ac212fd4a9a4f6b68b399aa7f29/src/microbes.jl#L3-L17">source</a></section></article><p>The dimensionality of <code>Microbe</code> <em>must</em> always be specified on creation. All the fields are instead optional, and if not specified will be assigned default values.</p><p>To create a <code>Microbe</code> living in a 1-dimensional space, with run-tumble motility and average turn rate <span>$\nu=1\;s^{-1}$</span>, it is therefore sufficient to run</p><pre><code class="nohighlight hljs">Microbe{1}()</code></pre><p>Similarly, for two and three dimensions:</p><pre><code class="nohighlight hljs">Microbe{2}()
Microbe{3}()</code></pre><p>Any custom parameter can be set via kwargs:</p><pre><code class="nohighlight hljs">Microbe{3}(
    turn_rate = 0.6,
    rotational_diffusivity = 0.1
)</code></pre><p>All the other subtypes of <code>AbstractMicrobe</code> work in a similar way, although they will have distinct default values and extra fields.</p><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.BrownBerg" href="#MicrobeAgents.BrownBerg"><code>MicrobeAgents.BrownBerg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BrownBerg{D} &lt;: AbstractMicrobe{D}</code></pre><p>Model of chemotactic E.coli from &#39;Brown and Berg (1974) PNAS&#39;</p><p>Default parameters:</p><ul><li><code>motility = RunTumble()</code></li><li><code>turn_rate = 1.49</code> Hz frequency of reorientations</li><li><code>rotational_diffusivity = 0.035</code> rad²/s coefficient of brownian rotational diffusion</li><li><code>radius = 0.5</code> μm equivalent spherical radius of the microbe</li><li><code>state = 0.0</code> corresponds to &#39;weighted dPb/dt&#39; in the paper</li><li><code>gain = 660</code> s</li><li><code>receptor_binding_constant = 100</code> μM</li><li><code>memory = 1</code> s</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/c653c8e631b44ac212fd4a9a4f6b68b399aa7f29/src/chemotaxis/brown-berg.jl#L3-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.Brumley" href="#MicrobeAgents.Brumley"><code>MicrobeAgents.Brumley</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Brumley{D} &lt;: AbstractMicrobe{D}</code></pre><p>Model of chemotactic bacterium from &#39;Brumley et al. (2019) PNAS&#39;. The model is optimized for simulation of marine bacteria and accounts for the presence of (gaussian) sensing noise in the chemotactic pathway.</p><p>Default parameters:</p><ul><li><code>motility = RunReverseFlick(speed_forward = [46.5])</code></li><li><code>turn_rate = 2.22</code> Hz → &#39;1/τ₀&#39;</li><li><code>state = 0.0</code> → &#39;S&#39;</li><li><code>rotational_diffusivity = 0.035</code> rad²/s</li><li><code>memory = 1.3</code> s → &#39;τₘ&#39;</li><li><code>gain_receptor = 50.0</code> μM⁻¹ → &#39;κ&#39;</li><li><code>gain = 50.0</code> → &#39;Γ&#39;</li><li><code>chemotactic_precision = 6.0</code> → &#39;Π&#39;</li><li><code>radius = 0.5</code> μm → &#39;a&#39;</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/c653c8e631b44ac212fd4a9a4f6b68b399aa7f29/src/chemotaxis/brumley.jl#L3-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.Celani" href="#MicrobeAgents.Celani"><code>MicrobeAgents.Celani</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Celani{D} &lt;: AbstractMicrobe{D}</code></pre><p>Model of chemotactic bacterium using the response kernel from &#39;Celani and Vergassola (2010) PNAS&#39;, extracted from experiments on E. coli.</p><p>Sensing noise (not present in the original model) is customarily introduced through the molecular counting noise formula by Berg and Purcell, and can be tuned through a <code>chemotactic_precision</code> factor inspired by &#39;Brumley et al. (2019) PNAS&#39; (defaults to 0, i.e. no noise).</p><p>Default parameters:</p><ul><li><code>motility = RunTumble(speed = [30.0])</code></li><li><code>turn_rate = 1.49</code> Hz</li><li><code>state = 0</code></li><li><code>rotational_diffusivity = 0.26</code> rad²/s</li><li><code>gain = 50.0</code></li><li><code>memory = 1</code> s</li><li><code>radius = 0.5</code> μm</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/c653c8e631b44ac212fd4a9a4f6b68b399aa7f29/src/chemotaxis/celani.jl#L3-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.Xie" href="#MicrobeAgents.Xie"><code>MicrobeAgents.Xie</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Xie{D} &lt;: AbstractMicrobe{D}</code></pre><p>Model of chemotactic bacterium adapted from &#39;Xie et al. (2019) Biophys J&#39;. The model is developed based on experimental measurements of the chemotactic response function in the marine bacterium V. alginolyticus. The peculiarity of the model is the presence of distinct parameters for the forward and backward swimming states.</p><p>Sensing noise (not present in the original model) is customarily introduced through the molecular counting noise formula by Berg and Purcell, and can be tuned through a <code>chemotactic_precision</code> factor inspired by &#39;Brumley et al. (2019) PNAS&#39; (defaults to 0, i.e. no noise).</p><p>Default parameters:</p><ul><li><code>motility = RunReverseFlick(speed_forward = [46.5])</code></li><li><code>turn_rate_forward = 2.3</code> Hz</li><li><code>turn_rate_backward = 1.9</code> Hz</li><li><code>state = 0.0</code> s</li><li><code>state_m = 0.0</code> s</li><li><code>state_z = 0.0</code> s</li><li><code>rotational_diffusivity = 0.26</code> rad²/s</li><li><code>adaptation_time_m = 1.29</code> s</li><li><code>adaptation_time_z = 0.28</code> s</li><li><code>gain_forward = 2.7</code> 1/s</li><li><code>gain_backward = 1.6</code> 1/s</li><li><code>binding_affinity = 0.39</code> μM</li><li><code>chemotactic_precision = 0.0</code></li><li><code>radius = 0.5</code> μm</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/c653c8e631b44ac212fd4a9a4f6b68b399aa7f29/src/chemotaxis/xie.jl#L3-L31">source</a></section></article><h2 id="Creating-a-model"><a class="docs-heading-anchor" href="#Creating-a-model">Creating a model</a><a id="Creating-a-model-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-model" title="Permalink"></a></h2><p>MicrobeAgents.jl exploits the <code>AgentBasedModel</code> interface from Agents.jl. While the standard Agents.jl syntax will always work, it is typically more convenient to use the method extensions provided by MicrobeAgents.jl, which also includes some default parameters required by the simulations. Both <code>StandardABM</code> and <code>UnremovableABM</code> are supported.</p><p>Whenever removal of microbes during the simulation is not needed, <code>UnremovableABM</code> is the recommended choice.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../validation/">Validation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Friday 28 April 2023 13:03">Friday 28 April 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
