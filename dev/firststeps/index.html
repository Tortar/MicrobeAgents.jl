<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>First steps · MicrobeAgents.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MicrobeAgents.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Tutorial</span><ul><li class="is-active"><a class="tocitem" href>First steps</a><ul class="internal"><li><a class="tocitem" href="#Creating-a-microbe"><span>Creating a microbe</span></a></li><li><a class="tocitem" href="#Creating-a-model"><span>Creating a model</span></a></li><li><a class="tocitem" href="#Motility-patterns"><span>Motility patterns</span></a></li></ul></li><li><a class="tocitem" href="../randomwalks/">Random walks</a></li><li><a class="tocitem" href="../chemotaxis/">Chemotaxis</a></li></ul></li><li><a class="tocitem" href="../validation/">Validation</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorial</a></li><li class="is-active"><a href>First steps</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>First steps</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mastrof/MicrobeAgents.jl/blob/main/docs/src/firststeps.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="First-steps"><a class="docs-heading-anchor" href="#First-steps">First steps</a><a id="First-steps-1"></a><a class="docs-heading-anchor-permalink" href="#First-steps" title="Permalink"></a></h1><h2 id="Creating-a-microbe"><a class="docs-heading-anchor" href="#Creating-a-microbe">Creating a microbe</a><a id="Creating-a-microbe-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-microbe" title="Permalink"></a></h2><p>Microbes are represented by subtypes of the <code>AbstractMicrobe</code> type, which is in turn a subtype of <code>AbstractAgent</code> introduced by Agents.jl</p><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.AbstractMicrobe" href="#MicrobeAgents.AbstractMicrobe"><code>MicrobeAgents.AbstractMicrobe</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractMicrobe{D} &lt;: AbstractAgent where {D&lt;:Integer}</code></pre><p>All microbe types in MicrobeAgents.jl simulations must be instances of user-defined types that are subtypes of <code>AbstractMicrobe</code>.     YourMicrobeType{D} &lt;: AbstractMicrobe{D} The parameter <code>D</code> defines the dimensionality of the space in which the microbe type lives (1, 2 and 3 are supported).</p><p>All microbe types <em>must</em> have at least the following fields:</p><ul><li><code>id::Int</code> id of the microbe (used internally by Agents.jl)</li><li><code>pos::NTuple{D,Float64}</code> position of the microbe</li><li><code>vel::NTuple{D,Float64}</code> velocity of the microbe</li><li><code>motility::AbstractMotility</code> motile pattern of the microbe</li><li><code>turn_rate::Real</code> average reorientation rate of the microbe</li><li><code>rotational_diffusivity::Real</code> coefficient of brownian rotational diffusion</li><li><code>radius::Real</code> equivalent spherical radius of the microbe</li><li><code>state::Real</code> generic variable for a scalar internal state</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/5d81875ed9e5e15b389d0cf72ede2e934cd19bb2/src/MicrobeAgents.jl#L15-L32">source</a></section></article><p>MicrobeAgents provides different <code>AbstractMicrobe</code> subtypes representing different models of bacterial behavior from the literature.</p><p>A basic type, which is typically sufficient for simple motility simulations and does not include chemotaxis, is the <code>Microbe</code> type.</p><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.Microbe" href="#MicrobeAgents.Microbe"><code>MicrobeAgents.Microbe</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Microbe{D} &lt;: AbstractMicrobe{D}</code></pre><p>Basic microbe type for simple simulations.</p><p>Default parameters:</p><ul><li><code>id::Int = rand(1:typemax(Int))</code> identifier used internally by Agents.jl</li><li><code>pos::NTuple{D,Float64} = ntuple(zero,D)</code> position</li><li><code>motility = RunTumble()</code> motile pattern</li><li><code>vel::NTuple{D,Float64} = rand_vel(D)</code> unit velocity vector</li><li><code>speed::Float64 = rand_speed(motility)</code> magnitude of velocity vector</li><li><code>turn_rate::Float64 = 1.0</code> frequency of reorientations</li><li><code>rotational_diffusivity::Real</code> coefficient of brownian rotational diffusion</li><li><code>radius::Float64 = 0.0</code> equivalent spherical radius of the microbe</li><li><code>state::Float64 = 0.0</code> generic variable for a scalar internal state</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/5d81875ed9e5e15b389d0cf72ede2e934cd19bb2/src/microbes.jl#L3-L17">source</a></section></article><p>The dimensionality of <code>Microbe</code> <em>must</em> always be specified on creation. All the fields are instead optional, and if not specified will be assigned default values.</p><p>To create a <code>Microbe</code> living in a 1-dimensional space, with run-tumble motility and average turn rate <span>$\nu=1\;s^{-1}$</span>, it is therefore sufficient to run</p><pre><code class="nohighlight hljs">Microbe{1}()</code></pre><p>Similarly, for two and three dimensions:</p><pre><code class="nohighlight hljs">Microbe{2}()
Microbe{3}()</code></pre><p>Any custom parameter can be set via kwargs:</p><pre><code class="nohighlight hljs">Microbe{3}(
    turn_rate = 0.6,
    rotational_diffusivity = 0.1
)</code></pre><p>All the other subtypes of <code>AbstractMicrobe</code> work in a similar way, although they will have distinct default values and extra fields.</p><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.BrownBerg" href="#MicrobeAgents.BrownBerg"><code>MicrobeAgents.BrownBerg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BrownBerg{D} &lt;: AbstractMicrobe{D}</code></pre><p>Model of chemotactic E.coli from &#39;Brown and Berg (1974) PNAS&#39;</p><p>Default parameters:</p><ul><li><code>motility = RunTumble()</code></li><li><code>turn_rate = 1.49</code> Hz frequency of reorientations</li><li><code>rotational_diffusivity = 0.035</code> rad²/s coefficient of brownian rotational diffusion</li><li><code>radius = 0.5</code> μm equivalent spherical radius of the microbe</li><li><code>state = 0.0</code> corresponds to &#39;weighted dPb/dt&#39; in the paper</li><li><code>gain = 660</code> s</li><li><code>receptor_binding_constant = 100</code> μM</li><li><code>memory = 1</code> s</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/5d81875ed9e5e15b389d0cf72ede2e934cd19bb2/src/chemotaxis/brown-berg.jl#L3-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.Brumley" href="#MicrobeAgents.Brumley"><code>MicrobeAgents.Brumley</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Brumley{D} &lt;: AbstractMicrobe{D}</code></pre><p>Model of chemotactic bacterium from &#39;Brumley et al. (2019) PNAS&#39;. The model is optimized for simulation of marine bacteria and accounts for the presence of (gaussian) sensing noise in the chemotactic pathway.</p><p>Default parameters:</p><ul><li><code>motility = RunReverseFlick(speed_forward = [46.5])</code></li><li><code>turn_rate = 2.22</code> Hz → &#39;1/τ₀&#39;</li><li><code>state = 0.0</code> → &#39;S&#39;</li><li><code>rotational_diffusivity = 0.035</code> rad²/s</li><li><code>memory = 1.3</code> s → &#39;τₘ&#39;</li><li><code>gain_receptor = 50.0</code> μM⁻¹ → &#39;κ&#39;</li><li><code>gain = 50.0</code> → &#39;Γ&#39;</li><li><code>chemotactic_precision = 6.0</code> → &#39;Π&#39;</li><li><code>radius = 0.5</code> μm → &#39;a&#39;</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/5d81875ed9e5e15b389d0cf72ede2e934cd19bb2/src/chemotaxis/brumley.jl#L3-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.Celani" href="#MicrobeAgents.Celani"><code>MicrobeAgents.Celani</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Celani{D} &lt;: AbstractMicrobe{D}</code></pre><p>Model of chemotactic bacterium using the response kernel from &#39;Celani and Vergassola (2010) PNAS&#39;, extracted from experiments on E. coli.</p><p>Sensing noise (not present in the original model) is customarily introduced through the molecular counting noise formula by Berg and Purcell, and can be tuned through a <code>chemotactic_precision</code> factor inspired by &#39;Brumley et al. (2019) PNAS&#39; (defaults to 0, i.e. no noise).</p><p>Default parameters:</p><ul><li><code>motility = RunTumble(speed = [30.0])</code></li><li><code>turn_rate = 1.49</code> Hz</li><li><code>state = 0</code></li><li><code>rotational_diffusivity = 0.26</code> rad²/s</li><li><code>gain = 50.0</code></li><li><code>memory = 1</code> s</li><li><code>radius = 0.5</code> μm</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/5d81875ed9e5e15b389d0cf72ede2e934cd19bb2/src/chemotaxis/celani.jl#L3-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.Xie" href="#MicrobeAgents.Xie"><code>MicrobeAgents.Xie</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Xie{D} &lt;: AbstractMicrobe{D}</code></pre><p>Model of chemotactic bacterium adapted from &#39;Xie et al. (2019) Biophys J&#39;. The model is developed based on experimental measurements of the chemotactic response function in the marine bacterium V. alginolyticus. The peculiarity of the model is the presence of distinct parameters for the forward and backward swimming states.</p><p>Sensing noise (not present in the original model) is customarily introduced through the molecular counting noise formula by Berg and Purcell, and can be tuned through a <code>chemotactic_precision</code> factor inspired by &#39;Brumley et al. (2019) PNAS&#39; (defaults to 0, i.e. no noise).</p><p>Default parameters:</p><ul><li><code>motility = RunReverseFlick(speed_forward = [46.5])</code></li><li><code>turn_rate_forward = 2.3</code> Hz</li><li><code>turn_rate_backward = 1.9</code> Hz</li><li><code>state = 0.0</code> s</li><li><code>state_m = 0.0</code> s</li><li><code>state_z = 0.0</code> s</li><li><code>rotational_diffusivity = 0.26</code> rad²/s</li><li><code>adaptation_time_m = 1.29</code> s</li><li><code>adaptation_time_z = 0.28</code> s</li><li><code>gain_forward = 2.7</code> 1/s</li><li><code>gain_backward = 1.6</code> 1/s</li><li><code>binding_affinity = 0.39</code> μM</li><li><code>chemotactic_precision = 0.0</code></li><li><code>radius = 0.5</code> μm</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/5d81875ed9e5e15b389d0cf72ede2e934cd19bb2/src/chemotaxis/xie.jl#L3-L31">source</a></section></article><h2 id="Creating-a-model"><a class="docs-heading-anchor" href="#Creating-a-model">Creating a model</a><a id="Creating-a-model-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-model" title="Permalink"></a></h2><p>MicrobeAgents.jl exploits the <code>AgentBasedModel</code> interface from Agents.jl. While the standard Agents.jl syntax will always work, it is typically more convenient to use the method extensions provided by MicrobeAgents.jl, which also includes some default parameters required by the simulations. Both <code>StandardABM</code> and <code>UnremovableABM</code> are supported. Whenever removal of microbes during the simulation is not needed, <code>UnremovableABM</code> is the recommended choice.</p><article class="docstring"><header><a class="docstring-binding" id="Agents.UnremovableABM" href="#Agents.UnremovableABM"><code>Agents.UnremovableABM</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">UnremovableABM(MicrobeType, space, timestep; kwargs...)</code></pre><p>Extension of the <code>Agents.UnremovableABM</code> method for microbe types. Implementation of <code>AgentBasedModel</code> where agents can only be added but not removed. See <code>Agents.AgentBasedModel</code> for detailed information on the keyword arguments.</p><p><strong>Arguments</strong></p><ul><li><code>MicrobeType</code>: subtype of <code>AbstractMicrobe{D}</code>, with explicitly specified dimensionality <code>D</code>. A list of available options can be obtained by running <code>subtypes(AbstractMicrobe)</code>.</li><li><code>space</code>: a <code>ContinuousSpace{D}</code> with <em>the same</em> dimensionality <code>D</code> as MicrobeType which specifies the spatial properties of the simulation domain.</li><li><code>timestep</code>: the integration timestep of the simulation.</li></ul><p><strong>Keywords</strong></p><ul><li><code>properties</code>: additional container of data to specify model-level properties. MicrobeAgents.jl includes a set of default properties (detailed at the end).</li><li><code>scheduler = Schedulers.fastest</code></li><li><code>rng = Random.default_rng()</code></li><li><code>spacing = minimum(extent)/20</code></li><li><code>warn = true</code></li></ul><p><strong>Default <code>properties</code></strong></p><p>When a model is created, a default set of properties is included in the model (<code>MicrobeAgents.default_ABM_properties</code>):</p><pre><code class="nohighlight hljs">DEFAULT_ABM_PROPERTIES = Dict(
    :t =&gt; 0, # counter for timekeeping
    :concentration_field =&gt; (pos,model) -&gt; 0.0,
    :concentration_gradient =&gt; (pos,model) -&gt; zero.(pos),
    :concentration_time_derivative =&gt; (pos,model) -&gt; 0.0,
    # required by models of chemotaxis, default value is glutamate diffusivity
    :compound_diffusivity =&gt; 608.0,
    # model stepper, by default only keeps time
    :update! =&gt; tick!
)</code></pre><p>By including these default properties, we make sure that all the chemotaxis models will work even without extra user intervention. All these properties can be overwritten by simply passing an equivalent key to the <code>properties</code> dictionary when creating the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/5d81875ed9e5e15b389d0cf72ede2e934cd19bb2/src/model.jl#L6-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Agents.StandardABM" href="#Agents.StandardABM"><code>Agents.StandardABM</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">StandardABM(MicrobeType, space, timestep; kwargs...)</code></pre><p>Extension of the <code>Agents.StandardABM</code> method for microbe types. Implementation of <code>AgentBasedModel</code> where agents can be added and removed at any time. If agents removal is not required, it is recommended to use <code>UnremovableABM</code> for better performance. See <code>Agents.AgentBasedModel</code> for detailed information on the keyword arguments.</p><p><strong>Arguments</strong></p><ul><li><code>MicrobeType</code>: subtype of <code>AbstractMicrobe{D}</code>, with explicitly specified dimensionality <code>D</code>. A list of available options can be obtained by running <code>subtypes(AbstractMicrobe)</code>.</li><li><code>space</code>: a <code>ContinuousSpace{D}</code> with <em>the same</em> dimensionality <code>D</code> as MicrobeType which specifies the spatial properties of the simulation domain.</li><li><code>timestep</code>: the integration timestep of the simulation.</li></ul><p><strong>Keywords</strong></p><ul><li><code>properties</code>: additional container of data to specify model-level properties. MicrobeAgents.jl includes a set of default properties (detailed at the end).</li><li><code>scheduler = Schedulers.fastest</code></li><li><code>rng = Random.default_rng()</code></li><li><code>warn = true</code></li></ul><p><strong>Default <code>properties</code></strong></p><p>When a model is created, a default set of properties is included in the model (<code>MicrobeAgents.default_ABM_properties</code>):</p><pre><code class="nohighlight hljs">DEFAULT_ABM_PROPERTIES = Dict(
    :t =&gt; 0, # counter for timekeeping
    :concentration_field =&gt; (pos,model) -&gt; 0.0,
    :concentration_gradient =&gt; (pos,model) -&gt; zero.(pos),
    :concentration_time_derivative =&gt; (pos,model) -&gt; 0.0,
    # required by models of chemotaxis, default value is glutamate diffusivity
    :compound_diffusivity =&gt; 608.0,
    # model stepper, by default only keeps time
    :update! =&gt; tick!
)</code></pre><p>By including these default properties, we make sure that all the chemotaxis models will work even without extra user intervention. All these properties can be overwritten by simply passing an equivalent key to the <code>properties</code> dictionary when creating the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/5d81875ed9e5e15b389d0cf72ede2e934cd19bb2/src/model.jl#L61-L99">source</a></section></article><p>To create a simple model, we just need to choose a microbe type, the size of the simulation domain and the integration timestep. The properties of the simulation domain are wrapped in the <code>ContinuousSpace</code> object (re-exported from Agents.jl).</p><pre><code class="nohighlight hljs">extent = (1000.0, 500.0) # size of 2D simulation domain
space = ContinuousSpace(extent)
dt = 0.1 # integration timestep
model = UnremovableABM(Microbe{2}, space, dt)</code></pre><p>By default this creates a model with periodic boundary conditions. For hard wall boundary conditions we can instead specify <code>space=ContinuousSpace(extent; periodic=false)</code>.</p><p>Now bacteria can be added with <code>add_agent!</code> function.</p><article class="docstring"><header><a class="docstring-binding" id="Agents.add_agent!" href="#Agents.add_agent!"><code>Agents.add_agent!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_agent!([pos,] [MicrobeType,] model; kwargs...)</code></pre><p>MicrobeAgents extension of <code>Agents.add_agent!</code>. Creates and adds a new microbe to <code>model</code>, using the constructor of the agent type of the model. If <code>model</code> accepts mixed agent types, then <code>MicrobeType</code> must be specified. If not specified, <code>pos</code> will be assigned randomly in the model domain.</p><p>Keywords can be used to specify default values to pass to the microbe constructor, otherwise default values from the constructor will be used. If unspecified, the function also generates a random velocity vector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/5d81875ed9e5e15b389d0cf72ede2e934cd19bb2/src/model.jl#L123-L134">source</a></section></article><p>We need not specify anything if we want the microbe to be added at a random position with the default values from the constructor.</p><pre><code class="nohighlight hljs">add_agent!(model)</code></pre><p>The microbe will be now accessible as <code>model[1]</code>.</p><p>The ABM is now ready to run. We just need to specify how many steps we want to simulate and what data to collect during the run:</p><pre><code class="nohighlight hljs">nsteps = 100
adf, mdf = run!(model, nsteps; adata=[:pos])</code></pre><p><code>run!</code> will return two dataframes, one for the agent-level data (<code>adf</code>) and one for the model-level data (<code>mdf</code>, which in this case will be empty). This way, we have produced our first random walk. Since <code>adf.pos</code> is a vector of tuples, we first have to unpack the x and y values and then we are ready to plot our trajectory.</p><pre><code class="nohighlight hljs">using Plots
x = first.(adf.pos)
y = last.(adf.pos)
plot(x, y)</code></pre><h2 id="Motility-patterns"><a class="docs-heading-anchor" href="#Motility-patterns">Motility patterns</a><a id="Motility-patterns-1"></a><a class="docs-heading-anchor-permalink" href="#Motility-patterns" title="Permalink"></a></h2><p>In MicrobeAgents.jl, motility patterns are represented as instances of <code>AbstractMotility</code>. In particular, currently available patterns are distinguished into two further categories: <code>AbstractMotilityOneStep</code> or <code>AbstractMotilityTwoStep</code>.</p><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.AbstractMotilityOneStep" href="#MicrobeAgents.AbstractMotilityOneStep"><code>MicrobeAgents.AbstractMotilityOneStep</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractMotilityOneStep</code></pre><p>One-step motility patterns (<code>RunTumble</code>). Subtypes have the following fields:</p><ul><li><code>speed</code>: distribution of microbe speed, new values extracted after each turn</li><li><code>polar</code>: distribution of polar angles</li><li><code>azimuthal</code>: distribution azimuthal angles</li></ul><p>For 2-dimensional microbe types, only <code>polar</code> defines reorientations and <code>azimuthal</code> is ignored.</p><p>New one-step motility patterns can be created as</p><pre><code class="nohighlight hljs">MicrobeAgents.@motility NewMotilityType MotilityOneStep AbstractMotilityOneStep begin
    # some extra fields if needed
end</code></pre><p>The necessary fields and subtyping will be added automatically, only new extra fields need to be specified in the definition. If default values have to be specified, a constructor needs to be defined explicitly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/5d81875ed9e5e15b389d0cf72ede2e934cd19bb2/src/motility.jl#L95-L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.AbstractMotilityTwoStep" href="#MicrobeAgents.AbstractMotilityTwoStep"><code>MicrobeAgents.AbstractMotilityTwoStep</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractMotilityTwoStep</code></pre><p>Two-step motility patterns (<code>RunReverse</code> and <code>RunReverseFlick</code>), with different properties between forward and backward state of motion. Subtypes have the following fields:</p><ul><li><code>speed_forward</code>: distribution of microbe speed, new values extracted after each turn</li><li><code>polar_forward</code>: distribution of in-plane reorientations for motile state fw</li><li><code>azimuthal_forward</code>: distribution of out-of-plane reorientations for motile state fw</li><li><code>speed_backward</code>: distribution of microbe speed, new values extracted after each turn</li><li><code>polar_backward</code>: distribution of in-plane reorientations for motile state bw</li><li><code>azimuthal_backward</code>: distribution of out-of-plane reorientations for motile state bw</li><li><code>motile_state</code>: defines current motile state (e.g. <code>Forward</code> or <code>Backward</code> for a <code>TwoState</code>)</li></ul><p>For 2-dimensional microbe types, only polar distributions define reorientations while azimuthal ones are ignored.</p><p>New two-step motility patterns can be created as</p><pre><code class="nohighlight hljs">MicrobeAgents.@motility NewMotilityType MotilityTwoStep AbstractMotilityTwoStep begin
    # some extra fields if needed
end</code></pre><p>The necessary fields and subtyping will be added automatically, only new extra fields need to be specified in the definition. If default values have to be specified, a constructor needs to be defined explicitly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/5d81875ed9e5e15b389d0cf72ede2e934cd19bb2/src/motility.jl#L134-L158">source</a></section></article><p>One-step motility pattern are characterized by a single swimming stage. Two-step motility patterns instead have two stages which can have distinct properties; these two stages are referred to as &quot;forward&quot; and &quot;backward&quot; but can really represent anything.</p><p>MicrobeAgents.jl defines three standard motility patterns:</p><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.RunTumble-Tuple{}" href="#MicrobeAgents.RunTumble-Tuple{}"><code>MicrobeAgents.RunTumble</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">RunTumble(; speed=(30.0,), polar=Uniform(-π,π), azimuthal=Arccos())</code></pre><p>Run-tumble motility. The kwargs <code>speed</code>, <code>polar</code> and <code>azimuthal</code> must be sampleable objects (ranges, arrays, tuples, distributions...), <em>not scalars</em>.</p><p>With default values, the reorientations are uniform on the sphere.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/5d81875ed9e5e15b389d0cf72ede2e934cd19bb2/src/motility.jl#L123-L130">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.RunReverse-Tuple{}" href="#MicrobeAgents.RunReverse-Tuple{}"><code>MicrobeAgents.RunReverse</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">RunReverse(;
    speed_forward = (30.0,),
    polar_forward = (π,),
    azimuthal_forward = Arccos(),
    speed_backward = speed_forward,
    polar_backward = polar_forward,
    azimuthal_backward = azimuthal_forward
)</code></pre><p>Run-reverse motility, with possibility to have different properties between the forward (run) and backward (reverse) stages. All the fields must be sampleable objects (ranges, arrays, tuples, distributions...), <em>not scalars</em>.</p><p>With default values, reorientations are always perfect reversals and the speed is identical between forward and backward runs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/5d81875ed9e5e15b389d0cf72ede2e934cd19bb2/src/motility.jl#L172-L188">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MicrobeAgents.RunReverseFlick-Tuple{}" href="#MicrobeAgents.RunReverseFlick-Tuple{}"><code>MicrobeAgents.RunReverseFlick</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">RunReverseFlick(;
    speed_forward = (30.0,),
    polar_forward = (π,),
    azimuthal_forward = Arccos(),
    speed_backward = speed_forward,
    polar_backward = (-π/2, π/2),
    azimuthal_backward = azimuthal_forward
)</code></pre><p>Run-reverse-flick motility, with possibility to have different properties between the forward (run) and backward (reverse) stages. All the fields must be sampleable objects (ranges, arrays, tuples, distributions...), <em>not scalars</em>.</p><p>With default values, reorientations after forward runs are perfect reversals, while reorientations after backward runs are uniformly distributed on the circle normal to the run direction; speed is identical between forward and backward runs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mastrof/MicrobeAgents.jl/blob/5d81875ed9e5e15b389d0cf72ede2e934cd19bb2/src/motility.jl#L204-L221">source</a></section></article><p>The default values provided by the constructors always consider a constant swimming speed of 30 (micron/s) and &quot;ideal&quot; turn-angle distributions. For more accurate simulation where the reorientation statistics of the microbes is important, appropriate distributions should be specified; the constructors will accept any object that can be sampled via <code>rand()</code>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../randomwalks/">Random walks »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Wednesday 9 August 2023 20:39">Wednesday 9 August 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
